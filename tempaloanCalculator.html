

<!DOCTYPE html>
<html>
<head>
    <title>Vehicle Loan Calculator</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<h1>Vehicle Loan Calculator</h1>
<form id="vehicleLoanForm" onsubmit="calculateLoan(event)">
    <label for="vehiclePrice">Vehicle Price:</label>
    <input type="number" id="vehiclePrice" name="vehiclePrice" required><br><br>

    <label for="salesTax">Sales Tax (%):</label>
    <input type="number" id="salesTax" name="salesTax" required><br><br>

    <label for="maxSalesTax">Max Sales Tax (%):</label>
    <input type="number" id="maxSalesTax" name="maxSalesTax" required><br><br>

    <label for="taxableFees">Fees (Taxable):</label>
    <input type="number" id="taxableFees" name="taxableFees" required><br><br>

    <label for="nonTaxableFees">Fees (Non-Taxable):</label>
    <input type="number" id="nonTaxableFees" name="nonTaxableFees" required><br><br>

    <label for="downPayment">Down Payment:</label>
    <input type="number" id="downPayment" name="downPayment" required><br><br>

    <label for="tradeInValue">Trade-In Value:</label>
    <input type="number" id="tradeInValue" name="tradeInValue" required><br><br>

    <label for="amountOwed">Amount Owed on Trade-In:</label>
    <input type="number" id="amountOwed" name="amountOwed" required><br><br>

    <label for="interestRate">Interest Rate (%):</label>
    <input type="number" id="interestRate" name="interestRate" required><br><br>

    <label for="loanTerm">Loan Term (Months):</label>
    <input type="number" id="loanTerm" name="loanTerm" required><br><br>

    <label for="extraPayment">Extra Payment per Month:</label>
    <input type="number" id="extraPayment" name="extraPayment" required><br><br>

    <input type="submit" value="Calculate">
</form>

<div id="results"></div>

<script>
    function calculateLoan(event) {
        event.preventDefault();

        // Get form values
        const vehiclePrice = Number(document.getElementById("vehiclePrice").value);
        const salesTax = Number(document.getElementById("salesTax").value);
        const maxSalesTax = Number(document.getElementById("maxSalesTax").value);
        const taxableFees = Number(document.getElementById("taxableFees").value);
        const nonTaxableFees = Number(document.getElementById("nonTaxableFees").value);
        const downPayment = Number(document.getElementById("downPayment").value);
        const tradeInValue = Number(document.getElementById("tradeInValue").value);
        const amountOwed = Number(document.getElementById("amountOwed").value);
        const interestRate = Number(document.getElementById("interestRate").value);
        const loanTerm = Number(document.getElementById("loanTerm").value);
        const extraPayment = Number(document.getElementById("extraPayment").value);

        // Calculate loan details
        const taxRate = Math.min(salesTax, maxSalesTax) / 100;
        const taxAmount = (vehiclePrice + taxableFees) * taxRate;
        const totalFees = taxableFees + nonTaxableFees;
        const loanAmount = vehiclePrice + totalFees + taxAmount - downPayment - tradeInValue + amountOwed;
        const monthlyRate = interestRate / 1200;
        const monthlyPayment = (loanAmount * monthlyRate) / (1 - Math.pow(1 + monthlyRate, -loanTerm));
        const totalInterest = (monthlyPayment * loanTerm) - loanAmount;
        const totalLoanPayment = loanAmount + totalInterest;
        const upfrontPayment = downPayment + tradeInValue - amountOwed + totalFees + taxAmount;
        const total = vehiclePrice + totalFees + taxAmount + totalInterest;

        // Display loan details
        const results = document.getElementById("results");
        results.innerHTML = `
		<h2>Loan Details:</h2>
		<p>Affordable Vehicle Price: $${vehiclePrice.toFixed(2)}</p>
		<p>Monthly Payment: $${monthlyPayment.toFixed(2)}</p>
		<p>Sales Tax: $${taxAmount.toFixed(2)}</p>
		<p>Amount Financed: $${loanAmount.toFixed(2)}</p>
		<p>Total Interest: $${totalInterest.toFixed(2)}</p>
		<p>Total Loan Payment: $${totalLoanPayment.toFixed(2)}</p>
		<p>Upfront Payment: $${upfrontPayment.toFixed(2)}</p>
		<p>Total (Price + Interest + Tax + Fee): $${total.toFixed(2)}</p>
	`;
    }
</script>
</body>
</html>
